{% extends 'efssad_front/master.html' %}
{% load staticfiles %}

{% block body %}
<div class="container">
    <h2>Mission Details</h2>
    <div class="panel-group" id="missionDetail">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h4 class="panel-title">
                    <a data-toggle="collapse" data-parent="#missionDetail" href="#collapse1">Mission Info</a>
                </h4>
            </div>
            <div id="collapse1" class="panel-collapse collapse in">
                <div class="panel-body">
                    <div style="float:left; width: 50%;">
                        <label>ID:</label>
                        <span id="missionID"></span>
                        <br/>
                        <label>Level:</label>
                        <span id="missionLevel"></span>
                        <br/>
                        <label>Description:</label>
                        <span id="missionDesc"></span>
                        <br/>
                        <label>DateTime Received:</label>
                        <span id="dateTimeReceived"></span>
                        <br/>
                        <label>DateTime Completed:</label>
                        <span id="dateTimeCompleted"></span>
                        <br/>
                        <label>Site Commanders:</label>
                        <br/>
                        <label>Status:</label>
                        <br/>
                        <label>Location:</label>
                    </div>
                    <div id="map">
                        <label>Location:</label>
                        <br/>
                        <div id="temp" hidden="true"></div>
                        <div id='locationMap' style='width: 450px; height: 250px;'></div>
                        <script>
                            <!-- mapbox access token -->
                            <!--mapboxgl.accessToken = 'pk.eyJ1IjoiZWZzc2FkMjAxOCIsImEiOiJjamVweW92cjAwMjBqMnBwN2hjdjI2c2U0In0.xrb23x0OU1w5ow36J543xA';-->
                            <!--var map = new mapboxgl.Map({-->
                                <!--container: 'locationMap',-->
                                <!--style: 'mapbox://styles/mapbox/streets-v10'-->
                            <!--});-->

                            var lat = 51.505
                            var long = -0.09
                            var mymap = L.map('locationMap').setView([lat, long], 13);
                            L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiZWZzc2FkMjAxOCIsImEiOiJjamVweW92cjAwMjBqMnBwN2hjdjI2c2U0In0.xrb23x0OU1w5ow36J543xA', {
                                attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
                                maxZoom: 18,
                                id: 'mapbox.streets',
                                accessToken: 'pk.eyJ1IjoiZWZzc2FkMjAxOCIsImEiOiJjamVweW92cjAwMjBqMnBwN2hjdjI2c2U0In0.xrb23x0OU1w5ow36J543xA'
                            }).addTo(mymap);

                            var marker = L.marker([lat, long]).addTo(mymap);
                            var url = 'http://maps.googleapis.com/maps/api/geocode/json?latlng=' + lat + ',' + long + '&sensor=false'
                            $(document).ready(function(){
                                $.get(url, function(data,status){
                                    var addressjson = JSON.parse(data);
                                    <!--alert(addressjson.results[0].formatted_address);-->
                                    var text = "<b>Zombie Invasion</b><br>" + addressjson.results[0].formatted_address;
                                    marker.bindPopup(text).openPopup();
                                }, 'html');
                            });

                        </script>
                    </div>
                </div>
                <!--<div class="panel-body">Lorem ipsum dolor sit amet, consectetur adipisicing elit,-->
                    <!--sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,-->
                    <!--quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.-->
                <!--</div>-->
            </div>

        </div>
    </div>

    <h2>Message Logs</h2>

    <table class="table borderless">
        <thead style="background:black; color: white; height: 50px;">

            <tr>
                <th scope="col">Commander</th>
                <th scope="col">Time</th>
                <th scope="col">Message</th>
            </tr>

        </thead>

        <tbody>

            <tr>
                <th scope="row">SC Lim</th>
                <td>15:54:05</td>
                <td>Riot subside with five casualty</td>
            </tr>

            <tr>
                <th scope="row">Sys</th>
                <td>16:10:05</td>
                <td>Commence clean up</td>
            </tr>

            <tr>
                <th scope="row">SC Tan</th>
                <td>16:20:12</td>
                <td>Cleanup completed</td>
            </tr>
        </tbody>

    </table>

     <div style="position:fixed; background-color: white; padding:10px; left: 0; bottom: 0; width:100%; text-align:center; padding-bottom:10px; padding-top:10px;" >
         <a href="#"><i class="fa fa-microphone fa-3x" aria-hidden="true"></i></a>
     </div>

</div>

{% endblock %}